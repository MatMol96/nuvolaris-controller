
Test Set:

REQUIRE_ONLY_DB
REQUIRE_SYSTEM
REQUIRE_MULTI_RUNTIME
LEAN
REQUIRE_SYSTEM_BASIC
REQUIRE_LEAN_SYSTEM
REQUIRE_STANDALONE

To run a set set

export TESTCONTAINERS_RYUK_DISABLED="true"
export ORG_GRADLE_PROJECT_testSetName="REQUIRE_ONLY_DB"
./gradlew :tests:testCoverageLean

You can run tests with: 

./gradlew tests:testUnit

Logs are in tests/build/...

see them with python3 -m http.server

to run a single test:
- start Metals
- select the test you want to run

*** retry test

./gradlew :tests:test --tests ElasticSearchActivationStoreTests

** trace tests
export ROOTDIR=/home/runner/work/openwhisk/openwhisk
cd $ROOTDIR/ansible
export ANSIBLE_CMD="ansible-playbook -i environments/local -e docker_image_prefix=testing"

** enable/disable debug
grep NGROK_DEBUG .github/workflows/*.yaml
replace NGROK_DEBUG '#NGROK_DEBUG' .github/workflows/*.yaml
replace '#NGROK_DEBUG' 'NGROK_DEBUG' .github/workflows/*.yaml

***
grep JAVA .github/workflows/*.yaml
replace 'JAVA_DISTRO: adopt-openj9' 'JAVA_DISTRO: corretto' .github/workflows/*.yaml




*** Collect changes to standalone

core/standalone/src/main/scala/org/apache/openwhisk/standalone/StandaloneDockerSupport.scala
core/standalone/src/main/scala/org/apache/openwhisk/standalone/StandaloneOpenWhisk.scala
core/standalone/src/test/scala/org/apache/openwhisk/standalone/DockerVersionTests.scala
tests/src/test/scala/common/WhiskProperties.java

** Others
.gitignore
.vscode/launch.json
core/standalone/build.gradle

** moved away
src/test/scala/org/apache/openwhisk/core/database/cosmosdb/CosmosDBArtifactStoreT
ests.scala
tests/src/test/scala/org/apache/openwhisk/core/database/cosmosdb/CosmosDBLeakTes
ts.scala

** remove bucket
aws s3 rb s3://S3_LOG_BUCKET --force

** copy
pwd # nuvolaris-controller
